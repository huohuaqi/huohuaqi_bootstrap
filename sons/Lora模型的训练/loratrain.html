<!DOCTYPE html>
<html lang="en">

<head>
    <title>详情页</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="../../static/css/css.css">
    <link rel="stylesheet" href="../../static/css/style.css">

    <link rel="stylesheet" href="../../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../static/css/magnific-popup.css">
    <link rel="stylesheet" href="../../static/css/jquery-ui.css">
    <link rel="stylesheet" href="../../static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="../../static/css/owl.theme.default.min.css">

    <link rel="stylesheet" href="../../static/css/mediaelementplayer.min.css">


    <link rel="stylesheet" href="../../static/css/aos.css">

    <link rel="stylesheet" href="../../static/css/style1.css">

</head>

<body>

    <div class="site-wrap">

        <div class="site-mobile-menu">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body"></div>
        </div>


        <header class="site-navbar py-4" role="banner">

            <div class="container">
                <div class="row align-items-center">
                    <div class="col-3">
                        <h1 class="site-logo"><a href="" class="h2">个人博客<span class="text-primary">.</span> </a></h1>
                    </div>
                    <div class="col-9">
                        <nav class="site-navigation position-relative text-right text-md-right" role="navigation">
                            <div class="d-block d-lg-none ml-md-0 mr-auto"><a href="#"
                                    class="site-menu-toggle js-menu-toggle text-black"><span
                                        class="icon-menu h3"></span></a></div>

                            <ul class="site-menu js-clone-nav d-none d-lg-block">
                                <li class="active">
                                    <a href="../../index.html">Home</a>
                                </li> 
                                <li><a href="about.html">个人简历</a></li>
                            </ul>
                        </nav>


                    </div>

                </div>
            </div>

        </header>

        <div class="site-blocks-cover inner-page-cover bg-light mb-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-12 text-center">
                        <a href="#">HHQ </a><span class="mx-2">&bullet;</span> 2023
                        <h1 class="mb-3">

                            AI绘画：使用自己的数据训练Lora模型

                        </h1>
                    </div>
                </div>
            </div>
        </div> 

        <div class=" container-fluid ">
            <div class="col-lg-6 offset-lg-3 col-md-12   "> 
             
                <p><strong class="font-weight-bold font-weight-bold">1训练脚本下载</strong> </p>
                <p>
                    使用github上面秋叶大佬的开源脚本，将其克隆到本地，注意其中有一个子项目，如果为空，需要手动克隆子项目。
                    <br>
                    git clone --recurse-submodules https://github.com/Akegarasu/lora-scripts
                    <br>
                    需要python 3.10的环境，最好让其自动创建环境：即运行 install.ps1  ，他会自动创建环境和安装依赖。
                    
                    
                </p>
                <p><strong class="font-weight-bold font-weight-bold">2数据预处理</strong> </p>
                <p>
                    使用Stable Diffusion webUI进行标注，如下图所示：注意修改图中标注的东西
                    <div  >
                        <img src="imgs/1.png"  class="shadow p-3 mb-5 bg-body rounded  img-fluid" alt="图一"  /> 
                    </div>

                    创建如下文件夹 ./train/aki/6_aki/你的图片和标签 <br>
                    <strong>注意:</strong> 其中6表示一轮中图片重复多少次，一般设置5-10即可，图片需要几十张左右。
                    下方训练时候的数据集路径为./train/aki

                </p>
                <p><strong class="font-weight-bold font-weight-bold">3开始训练</strong> </p>
                <p>
                    修改train.ps1文件的参数，包括基础模型的路径、图片输入大小、训练轮次数、批次大小等，注意10系列显卡需要关闭UNIT8优化！
                    之后便可以在powershell中运行。加载模型和训练过程中需要耗费大量内存和显存，因此注意本机的承受能力。
                </p> 
                <p><strong class="font-weight-bold font-weight-bold">4模型的使用</strong> </p>
                <p>
                    在output中可以查看生成的safetensor，将其复制到 stable diffusion webUI下面的models/Lora，
                    然后像使用普通lora一样使用就行，
                    但是注意，基础模型选择与你训练时候的基础模型一样才能效果较好。
                    <div  >
                        <img src="imgs/2.png"  class="shadow p-3 mb-5 bg-body rounded  img-fluid" alt="图一"  /> 
                    </div>

                    由于训练时间比较短，数据集比较差，因此效果图差了一点：

                    <div  >
                        <img src="imgs/3.png"  class="shadow p-3 mb-5 bg-body rounded  img-fluid" alt="图一"  /> 
                    </div>

                    不过如果手动弄好点数据集，有更好的设备，相信你也能训练好一个AI模型。
                </p> 
                
    
                 
            </div>

        </div>


    </div>
    </div>








    <div class="site-blocks-cover overlay inner-page-cover" style="background-image: url(static/image/hero_bg_1.jpg);"
        data-aos="fade" data-stellar-background-ratio="0.5">
        <div class="container">
            <div class="row align-items-center justify-content-center text-center">

                <div class="col-md-6" data-aos="fade-up" data-aos-delay="400">
                    <h2>Subscribe</h2>
                    <p class="mb-5"> Thank you.</p>
                    <form action="#" method="post" class="site-block-subscribe">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control border-secondary text-white bg-transparent"
                                placeholder="Enter Email" aria-label="Enter Email" aria-describedby="button-addon2">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button" id="button-addon2">Send</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>



    <script src="../../static/js/jquery-3.3.1.min.js"></script>
    <script src="../../static/js/jquery-migrate-3.0.1.min.js"></script>
    <script src="../../static/js/jquery-ui.js"></script>
    <script src="../../static/js/popper.min.js"></script>
    <script src="../../static/js/bootstrap.min.js"></script>
    <script src="../../static/js/owl.carousel.min.js"></script>
    <script src="../../static/js/jquery.stellar.min.js"></script>
    <script src="../../static/js/jquery.countdown.min.js"></script>
    <script src="../../static/js/jquery.magnific-popup.min.js"></script>
    <script src="../../static/js/aos.js"></script>

    <script src="../../static/js/mediaelement-and-player.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var mediaElements = document.querySelectorAll('video, audio'), total = mediaElements.length;

            for (var i = 0; i < total; i++) {
                new MediaElementPlayer(mediaElements[i], {
                    pluginPath: '#',
                    shimScriptAccess: 'always',
                    success: function () {
                        var target = document.body.querySelectorAll('.player'), targetTotal = target.length;
                        for (var j = 0; j < targetTotal; j++) {
                            target[j].style.visibility = 'visible';
                        }
                    }
                });
            }
        });
    </script>


    <script src="../../static/js/main.js"></script>

</body>

</html>